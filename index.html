<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Latihan Mengetik</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #e6f0ff;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        flex-direction: column;
    }
    h1 {
        color: #0066cc;
        margin-bottom: 20px;
    }
    #textDisplay {
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        max-width: 700px;
        font-size: 18px;
        line-height: 1.6;
        color: #333;
        user-select: none;
    }
    .correct { color: green; }
    .incorrect { color: red; }
    textarea {
        margin-top: 20px;
        width: 700px;
        height: 120px;
        font-size: 18px;
        padding: 15px;
        border-radius: 10px;
        border: 2px solid #0066cc;
        outline: none;
    }
    #scoreBoard {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0.5);
        background: white;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        text-align: center;
        opacity: 0;
        transition: all 0.4s ease;
        z-index: 10;
        width: 300px;
    }
    #scoreBoard.show {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
    #scoreBoard h2 {
        margin-bottom: 15px;
        color: #0066cc;
    }
    #saveScore {
        background: #0066cc;
        color: white;
        border: none;
        padding: 10px 20px;
        font-size: 16px;
        border-radius: 8px;
        cursor: pointer;
    }
</style>
</head>
<body>

<h1>Latihan Mengetik</h1>
<div id="textDisplay"></div>
<textarea id="textInput" placeholder="Mulai mengetik di sini..."></textarea>

<div id="scoreBoard">
    <h2>Hasil Kamu</h2>
    <p id="wpmScore"></p>
    <p id="timeScore"></p>
    <p id="typoScore"></p>
    <button id="saveScore">Simpan Skor</button>
</div>

<script>
const texts = [
    "Belajar mengetik dengan cepat membutuhkan latihan yang konsisten dan fokus.",
    "Disiplin adalah kunci untuk mencapai kesuksesan dalam segala bidang.",
    "Teknologi berkembang pesat, kita harus terus belajar dan beradaptasi.",
    "Aulia Nurkamilah, adalah seorang lulusan SMKN 18 Jakarta, Jurusan Manajemen Perkantoran. Dan ia sekarang sedang melajutkan pendidikannya, di kampus Universitas Islam Jakarta. Dengan jurusan yang ia ambil, yaitu Program Studi Fisika, Untuk kamu, semoga sukses selalu"
];

const textDisplay = document.getElementById("textDisplay");
const textInput = document.getElementById("textInput");
const scoreBoard = document.getElementById("scoreBoard");
const wpmScore = document.getElementById("wpmScore");
const timeScore = document.getElementById("timeScore");
const typoScore = document.getElementById("typoScore");

let startTime, timerRunning = false, typos = 0;

function loadText() {
    const randomText = texts[Math.floor(Math.random() * texts.length)];
    textDisplay.innerHTML = "";
    randomText.split("").forEach(char => {
        const span = document.createElement("span");
        span.textContent = char;
        textDisplay.appendChild(span);
    });
    textInput.value = "";
    timerRunning = false;
    typos = 0;
}
loadText();

textInput.addEventListener("input", () => {
    const arrayText = textDisplay.querySelectorAll("span");
    const arrayValue = textInput.value.split("");

    if (!timerRunning && arrayValue.length > 0) {
        startTime = new Date();
        timerRunning = true;
    }

    let correctAll = true;
    arrayText.forEach((charSpan, index) => {
        const char = arrayValue[index];
        if (char == null) {
            charSpan.classList.remove("correct", "incorrect");
            correctAll = false;
        } else if (char === charSpan.textContent) {
            charSpan.classList.add("correct");
            charSpan.classList.remove("incorrect");
        } else {
            charSpan.classList.add("incorrect");
            charSpan.classList.remove("correct");
            correctAll = false;
            typos++;
        }
    });

    if (correctAll && arrayValue.length === arrayText.length) {
        endGame();
    }
});

function endGame() {
    const endTime = new Date();
    const timeTaken = (endTime - startTime) / 1000;
    const words = textInput.value.trim().split(/\s+/).length;
    const wpm = Math.round((words / timeTaken) * 60);

    wpmScore.textContent = `WPM: ${wpm}`;
    timeScore.textContent = `Waktu: ${timeTaken.toFixed(2)} detik`;
    typoScore.textContent = `Typo: ${typos}`;

    scoreBoard.classList.add("show");
}

document.getElementById("saveScore").addEventListener("click", () => {
    alert("Skor disimpan!");
    scoreBoard.classList.remove("show");
    loadText();
});
</script>

</body>
</html>
